for.hist <- trans %>%
group_by(cust) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
for.hist <- trans_sku %>%
select(CategoryDescription, quan_sold, net_sale) %>%
group_by(CategoryDescription) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "SKU FILE 2021")
trans_sku <- trans %>%
inner_join(sku_tab)
for.hist <- trans_sku %>%
select(CategoryDescription, quan_sold, net_sale) %>%
group_by(CategoryDescription) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "sku_2021")
trans_sku <- trans %>%
inner_join(sku_tab)
for.hist <- trans_sku %>%
select(CategoryDescription, quan_sold, net_sale) %>%
group_by(CategoryDescription) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
#Display Tables
table(for.hist$Quan)
for.hist <- trans_sku %>%
select(CategoryDescription, quan_sold, net_sale) %>%
group_by(CategoryDescription) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
trans_sku <- trans %>%
inner_join(sku_tab, by = "sku")
for.stat <- trans %>%
group_by(ticket_num) %>%
summarize(Quan = sum(quan_sold)) %>%
collect
summary(for.stat)
library(tidyverse)
library(DBI)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)
#group_rows is masked from dyplr#
#----#
library(jtools)
library(scales)
## ------------------------------------------------------------- ##
# Setup #
## ------------------------------------------------------------- ##
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
## ------------------------------------------------------------ ##
# Capstone Code #
## ------------------------------------------------------------ ##
# Creating connection to the tables
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "sku_2021")
trans_sku <- trans %>%
inner_join(sku_tab, by = "sku")
# Histogram - Number of Items per Customer
for.hist <- trans %>%
group_by(cust) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
#Histogram - Number of Items per Ticket
for.hist2 <- trans %>%
group_by(ticket_num) %>%
summarize(Quan = sum(quan_sold)) %>%
collect
#Display Tables
table(for.hist$Quan)
table(for.hist2$Quan)
#Display Histograms
hist(for.hist$Quan, xlab = "Items", col = "hot pink")
hist(for.hist2$Quan, main = "Histogram of Total Items per Ticket", xlab = "Number of Items", col = "hot pink")
#Descriptive Stats
for.stat <- trans %>%
group_by(ticket_num) %>%
summarize(Quan = sum(quan_sold)) %>%
collect
summary(for.stat)
for.stat2 <- trans_sku %>%
group_by(Vendor) %>%
summarize(Quan = sum(quan_sold)) %>%
collect
summary(for.stat2)
for.stat2 <- trans_sku %>%
group_by(Vendor) %>%
summarize(Quan = sum(quan_sold)) %>%
collect %>%
table()
for.stat2 <- trans_sku %>%
group_by(Vendor) %>%
summarize(Quan = sum(quan_sold)) %>%
collect
table(for.stat2)
for.stat <- trans %>%
group_by(ticket_num) %>%
summarize(Quan = sum(quan_sold)) %>%
collect
summary(for.stat)
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "sku_2021")
# Histogram - Number of Items per Customer
for.hist <- trans %>%
group_by(cust) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
#Display Tables
table(for.hist$Quan)
#Display Histograms
hist(for.hist$Quan, xlab = "Items", col = "hot pink")
#Histogram - Number of Items per Ticket
for.hist2 <- trans %>%
group_by(ticket_num) %>%
summarize(Quan = sum(quan_sold)) %>%
collect
hist(for.hist2$Quan, main = "Histogram of Total Items per Ticket", xlab = "Number of Items", col = "hot pink")
library(tidyverse)
library(DBI)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)
#group_rows is masked from dyplr#
#----#
library(jtools)
library(scales)
## ------------------------------------------------------------- ##
# Setup #
## ------------------------------------------------------------- ##
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
## ------------------------------------------------------------ ##
# Capstone Code #
## ------------------------------------------------------------ ##
# Creating connection to the tables
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "sku_2021")
vend_ym <- tbl(con, "vendor_year_month")
cat_ym <- tbl(con, "cat_year_month")
## Do some dplyr stuff with summary tables ##
dat <- vend_ym %>%
group_by(VendorDescription) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
dat %>%
table(Quan)
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "sku_2021")
vend_ym <- tbl(con, "vend_year_month")
cat_ym <- tbl(con, "cat_year_month")
## Do some dplyr stuff with summary tables ##
dat <- vend_ym %>%
group_by(VendorDescription) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
dat %>%
table(Quan)
library(tidyverse)
library(DBI)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)
#group_rows is masked from dyplr#
#----#
library(jtools)
library(scales)
## ------------------------------------------------------------- ##
# Setup #
## ------------------------------------------------------------- ##
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
## ------------------------------------------------------------ ##
# Capstone Code #
## ------------------------------------------------------------ ##
# Creating connection to the tables
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "sku_2021")
vend_ym <- tbl(con, "vend_year_month")
cat_ym <- tbl(con, "cat_year_month")
## Do some dplyr stuff with summary tables ##
dat <- vend_ym %>%
group_by(VendorDescription) %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
collect
dat %>%
table(Quan)
dat <- vend_ym %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
group_by(VendorDescription) %>%
collect
trans <- tbl(con, "transactions")
sku_tab <- tbl(con, "sku_2021")
vend_ym <- tbl(con, "vend_year_month")
cat_ym <- tbl(con, "cat_year_month")
dat <- vend_ym %>%
summarize(Quan = sum(quan_sold), Sales = sum(net_sale)) %>%
filter(Sales > 0, Sales < 3000) %>%
group_by(VendorDescription) %>%
collect
dat <- trans %>%
collect
dat <- trans %>%
collect
library(tidyverse)
library(DBI)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)
#group_rows is masked from dyplr#
#----#
library(jtools)
library(scales)
## ------------------------------------------------------------- ##
# Setup #
## ------------------------------------------------------------- ##
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
trans <- tbl(con, "master")
vend_ym <- tbl(con, "vend_year_month")
cat_ym <- tbl(con, "cat_year_month")
dat <- trans %>%
collect
dat %>%
distinct(trans$item_desc) %>%
table()
dat %>%
distinct(item_desc) %>%
table()
dat %>%
count(item_desc) %>%
group_by(item_desc) %>%
mutate(prop = prop.table(n))
dat
View(dat)
View(dat)
dat <- trans %>%
collect
dat <- trans %>%
collect
dat
dat <- trans %>%
collect
library(tidyverse)
library(DBI)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
trans <- tbl(con, "master")
vend_ym <- tbl(con, "vend_year_month")
cat_ym <- tbl(con, "cat_year_month")
dat <- trans %>%
collect
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
trans <- tbl(con, "master")
vend_ym <- tbl(con, "vend_year_month")
cat_ym <- tbl(con, "cat_year_month")
dat <- trans %>%
collect
dat
dat %>%
count(item_desc) %>%
group_by(item_desc) %>%
mutate(prop = prop.table(n))
dat %>%
count(sku) %>%
group_by(sku) %>%
mutate(prop = prop.table(n))
dat %>%
count(sku) %>%
group_by(sku) %>%
mutate(prop = prop.table(sort(n, decreasing = TRUE)))
dat %>%
count(sku) %>%
group_by(sku) %>%
mutate(prop = prop.table(sort(n, decreasing = FALSE)))
knitr::opts_chunk$set(echo = TRUE,
fig.width=6,
fig.align = "center",
out.width = "70%",
warning=FALSE,
message=FALSE)
library(tidyverse)
library(DBI)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)
#group_rows is masked from dyplr#
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
trans <- tbl(Con, "master")
trans <- tbl(con, "master")
knitr::opts_chunk$set(echo = TRUE,
fig.width=6,
fig.align = "center",
out.width = "70%",
warning=FALSE,
message=FALSE)
library(tidyverse)
library(DBI)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)
#group_rows is masked from dyplr#
path.to.db <- paste0("C:\\Users\\Nikki\\Documents\\UM Spring 2021\\",
"Capstone\\msba-capstone\\")
# Creating the connection to the DB
con <- dbConnect(RSQLite::SQLite(),
dbname=paste0(path.to.db,"northstar_athletics.db"))
# Listing the tables
dbListTables(con)
dat <- trans %>%
collect
trans <- tbl(con, "master")
#Some dplyr stuff
dat <- trans %>%
collect
dat %>%
count(sku) %>%
group_by(sku) %>%
kable()
dat %>%
count(sku) %>%
group_by(sku) %>%
head() %>%
kable()
dat %>%
count(sku) %>%
group_by(sku) %>%
head(10) %>%
kable()
dat %>%
count(sku) %>%
group_by(sku) %>%
order_by(n, "ascending") %>%
head(10) %>%
kable()
dat %>%
count(sku) %>%
group_by(sku) %>%
order_by("ascending") %>%
head(10) %>%
kable()
dat %>%
count(sku) %>%
group_by(sku) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
count(item_desc) %>%
group_by(item_desc) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
count(vendor_desc) %>%
group_by(vendor_desc) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
count(category_desc) %>%
group_by(category_desc) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
count(vendor, category_desc) %>%
group_by(category_desc) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
count(vendor_desc, category_desc) %>%
group_by(vendor_desc) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
group_by(vendor_desc) %>%
arrange(category_desc, .by_group = TRUE) %>%
top_n(10) %>%
kable()
dat %>%
select(vendor_desc, category_desc) %>%
count(vendor_desc) %>%
group_by(vendor_desc) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
select(vendor_desc, category_desc) %>%
group_by(vendor_desc) %>%
arrange(category_desc, .by_group = TRUE) %>%
top_n(10) %>%
kable()
dat %>%
select(vendor_desc, category_desc) %>%
count(category_desc) %>%
group_by(vendor_desc) %>%
arrange(category_desc, .by_group = TRUE) %>%
top_n(10) %>%
kable()
dat %>%
select(vendor_desc, category_desc) %>%
count(category_desc) %>%
group_by(vendor_desc) %>%
arrange(n, .by_group = TRUE) %>%
top_n(10) %>%
kable()
dat %>%
count(distinct(vendor))
dat %>%
select(),
dat %>%
select() %>%
count(distinct(vendor))
dat %>%
count(distinct(vendor)) %>%
collect()
dat %>%
count(vendor)
dat %>%
count(vendor) %>%
arrange(n)
dat %>%
count(vendor) %>%
arrange(desc(n))
# Creating connection to the tables
trans <- tbl(con, "master")
#Some dplyr stuff
dat <- trans %>%
collect
dat %>%
count(vendor) %>%
arrange(desc(n)) %>%
dat %>%
count(vendor_desc) %>%
group_by(vendor_desc) %>%
arrange(desc(n)) %>%
head(10) %>%
kable()
dat %>%
count(vendor) %>%
arrange(desc(n)) %>%
top_n(10)
dat %>%
count(category) %>%
arrange(desc(n))
dat %>%
count(category)
